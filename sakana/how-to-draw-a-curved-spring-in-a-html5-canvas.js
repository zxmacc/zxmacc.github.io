function drawSpring(e,t,n,o,c,a,i,s,u,r){var l=n-e,v=o-t,m=Math.sqrt(l*l+v*v),d=l/m,h=v/m;ctx.strokeStyle=s,ctx.lineWidth=r,ctx.lineJoin="round",ctx.lineCap="round",ctx.beginPath(),ctx.moveTo(e,t);l=(n-=d*i)-(e+=d*i),v=(o-=h*i)-(t+=h*i);for(var f=1/c,x=0;x<=1-f;x+=f)for(var w=0;w<1;w+=.05){var b=e+l*(x+w*f),p=t+v*(x+w*f);b-=Math.sin(w*Math.PI*2)*h*a,p+=Math.sin(w*Math.PI*2)*d*a,ctx.lineTo(b,p)}ctx.lineTo(n,o),ctx.lineTo(n+d*i,o+h*i),ctx.stroke(),ctx.strokeStyle=u,ctx.lineWidth=r-4;f=1/c;ctx.beginPath(),ctx.moveTo(e-d*i,t-h*i),ctx.lineTo(e,t),ctx.moveTo(n,o),ctx.lineTo(n+d*i,o+h*i);for(x=0;x<=1-f;x+=f)for(w=.25;w<=.76;w+=.05){b=e+l*(x+w*f),p=t+v*(x+w*f);b-=Math.sin(w*Math.PI*2)*h*a,p+=Math.sin(w*Math.PI*2)*d*a,.25===w?ctx.moveTo(b,p):ctx.lineTo(b,p)}ctx.stroke()}function display(){ctx.setTransform(1,0,0,1,0,0),ctx.globalAlpha=1,ctx.clearRect(0,0,w,h),ctx.lineWidth=8,drawSpring(canvas.width/2,10,mouse.x,mouse.y,8,30,10,"green","#0C0",10)}var w,h,cw,ch,canvas,ctx,mouse,globalTime=0,firstRun=!0;!function(){var e,t,n,o=0;function c(){(o-=1)<=0&&onResize()}e=function(){const e=document.createElement("canvas"),t=e.style;return t.position="absolute",t.top=0,t.left=0,t.zIndex=1e3,document.body.appendChild(e),e},t=function(){void 0===canvas&&(canvas=e()),canvas.width=innerWidth,canvas.height=innerHeight,ctx=canvas.getContext("2d"),"function"==typeof n&&n(),"function"==typeof onResize&&(firstRun?(onResize(),firstRun=!1):(o+=1,setTimeout(c,100)))},n=function(){cw=(w=canvas.width)/2,ch=(h=canvas.height)/2},mouse=function(){function e(e){e.preventDefault()}var t={x:0,y:0,w:0,alt:!1,shift:!1,ctrl:!1,buttonRaw:0,over:!1,bm:[1,2,4,6,5,3],active:!1,bounds:null,crashRecover:null,mouseEvents:"mousemove,mousedown,mouseup,mouseout,mouseover,mousewheel,DOMMouseScroll".split(",")},n=t;function o(e){var t=e.type;n.bounds=n.element.getBoundingClientRect(),n.x=e.pageX-n.bounds.left,n.y=e.pageY-n.bounds.top,n.alt=e.altKey,n.shift=e.shiftKey,n.ctrl=e.ctrlKey,"mousedown"===t?n.buttonRaw|=n.bm[e.which-1]:"mouseup"===t?n.buttonRaw&=n.bm[e.which+2]:"mouseout"===t?(n.buttonRaw=0,n.over=!1):"mouseover"===t?n.over=!0:"mousewheel"===t?n.w=e.wheelDelta:"DOMMouseScroll"===t&&(n.w=-e.detail),n.callbacks&&n.callbacks.forEach((t=>t(e))),2&n.buttonRaw&&null!==n.crashRecover&&"function"==typeof n.crashRecover&&setTimeout(n.crashRecover,0),e.preventDefault()}return n.addCallback=function(e){"function"==typeof e&&(void 0===n.callbacks?n.callbacks=[e]:n.callbacks.push(e))},n.start=function(t){void 0!==n.element&&n.removeMouse(),n.element=void 0===t?document:t,n.mouseEvents.forEach((e=>{n.element.addEventListener(e,o)})),n.element.addEventListener("contextmenu",e,!1),n.active=!0},n.remove=function(){void 0!==n.element&&(n.mouseEvents.forEach((e=>{n.element.removeEventListener(e,o)})),n.element.removeEventListener("contextmenu",e),n.element=n.callbacks=void 0,n.active=!1)},t}();var a=function(){window.removeEventListener("resize",t),mouse.remove(),document.body.removeChild(canvas),canvas=ctx=mouse=void 0};function i(e){void 0!==ctx&&(globalTime=e,display(),2&mouse.buttonRaw?a():requestAnimationFrame(i))}setTimeout((function(){t(),mouse.start(canvas,!0),mouse.crashRecover=a,window.addEventListener("resize",t),requestAnimationFrame(i)}),0)}();